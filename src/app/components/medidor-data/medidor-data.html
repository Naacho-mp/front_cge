<form class="form-vertical" [formGroup]="form" (ngSubmit)="guardar()">
  <h1>Crear Medidor</h1>

  <div class="form-group">
    <label for="codigo_medidor" class="form-label">C贸digo de Medidor</label>
    <input type="text" id="codigo_medidor" class="form-control" formControlName="codigo_medidor" placeholder="Ej. M123456 " required/>
    <div *ngIf="form.get('codigo_medidor')?.invalid && form.get('codigo_medidor')?.touched" class="text-danger">
      El c贸digo del medidor es obligatorio
    </div>
  </div>

  <div class="form-group">
    <label for="id_cliente" class="form-label">ID Cliente</label>
    <select id="id_cliente" class="form-select" formControlName="id_cliente" required>
      <option *ngFor="let cliente of clientes" [value]="cliente.id_cliente">
        {{ cliente.id_cliente }} - {{ cliente.nombre_razon }}
      </option>
    </select>
    <div *ngIf="form.get('id_cliente')?.invalid && form.get('id_cliente')?.touched" class="text-danger">
      Debes seleccionar un cliente
    </div>
  </div>

  <div class="form-group">
    <label for="direccion_suministro" class="form-label" required>Direcci贸n de suministro</label>
    <input type="text" id="direccion_suministro" class="form-control" formControlName="direccion_suministro" placeholder="Ej. Calle 123, Ciudad" required/>
    <div *ngIf="form.get('direccion_suministro')?.invalid && form.get('direccion_suministro')?.touched" class="text-danger">
      La direcci贸n es obligatoria
    </div>
  </div>

  <div class="form-group">
    <label for="estadoMedidor" class="form-label">Estado</label>
    <select class="form-select" formControlName="estado" id="estadoMedidor" required>
      <option value="">Seleccione</option>
      @for (e of estados; track e) {
        <option [value]="e">{{ e }}</option>
      }
    </select>
    <div *ngIf="form.get('estado')?.invalid && form.get('estado')?.touched" class="text-danger">
      Debes seleccionar un estado
    </div>
  </div>

  <div class="form-group">
    <button type="submit" class="btn btn-primary">Crear Medidor</button>
  </div>
</form>
